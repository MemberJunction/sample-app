-----------------------------------------------------------------
-- SQL Code Generation
-- Entity: Purchase Details
-- Item: spUpdatePurchaseDetail
-- Generated: 12/8/2023, 3:54:16 PM
--
-- This was generated by the Entity Generator.
-- This file should NOT be edited by hand.
-----------------------------------------------------------------

------------------------------------------------------------
----- UPDATE PROCEDURE FOR PurchaseDetail  
------------------------------------------------------------
IF OBJECT_ID('dbo.spUpdatePurchaseDetail', 'P') IS NOT NULL
    DROP PROCEDURE [dbo].[spUpdatePurchaseDetail]
GO

CREATE PROCEDURE [dbo].[spUpdatePurchaseDetail]
    @ID int,
    @PurchaseID int,
    @BookID int,
    @Quantity decimal(28, 4),
    @Amount money,
    @Discount money,
    @Total money
AS
BEGIN
    SET NOCOUNT ON;
    UPDATE 
        [customers].[PurchaseDetail]
    SET 
        [PurchaseID] = @PurchaseID,
        [BookID] = @BookID,
        [Quantity] = @Quantity,
        [Amount] = @Amount,
        [Discount] = @Discount,
        [Total] = @Total,
        UpdatedAt = GETDATE()
    WHERE 
        [ID] = @ID

    -- return the updated record so the caller can see the updated values and any calculated fields
    SELECT * FROM vwPurchaseDetails WHERE ID = @ID
END
GO
GRANT EXECUTE ON [spUpdatePurchaseDetail] TO [cdp_Developer], [cdp_Integration]
    